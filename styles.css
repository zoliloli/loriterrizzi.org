/* ═══════════════ RESET & BASE ═══════════════ */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
html, body { width: 100%; max-width: 100%; overflow-x: hidden; }
body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; color: #fff; background: #000; }
a { text-decoration: none; }

/* ═══════════════ NAV ═══════════════ */
.site-nav { position: fixed; top: 0; left: 0; width: 100%; z-index: 100; display: flex; align-items: center; justify-content: space-between; padding: 20px 40px; font-family: 'sofia-pro', 'Sofia Pro', system-ui, sans-serif; background: rgba(0,0,0,0.05); backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px); transition: background 0.3s ease, opacity 0.5s ease-in-out; }
.site-nav.nav-solid { background: #000; backdrop-filter: none; -webkit-backdrop-filter: none; }
.nav-identity { display: flex; flex-direction: column; }
.nav-identity a { display: flex; flex-direction: column; text-decoration: none; }
.nav-name { font-size: 21px; font-weight: 200; letter-spacing: 0.11em; text-transform: uppercase; color: rgba(255,255,255,0.85); line-height: 1; }
.nav-tagline { font-size: 15px; font-weight: 200; letter-spacing: 0.10em; text-transform: uppercase; color: rgba(255,255,255,0.85); margin-top: 3px; }
.nav-tagline .reg-mark { font-size: 0.6em; vertical-align: super; line-height: 0; }
.nav-links { display: flex; gap: 32px; list-style: none; }
.nav-links a { font-size: 14px; font-weight: 200; letter-spacing: 0.10em; text-transform: uppercase; color: rgba(255,255,255,0.85); text-decoration: none; transition: color 0.2s ease; cursor: pointer; }
.nav-links a:hover, .nav-links a.active { color: #fff; }
.nav-toggle { display: none; background: none; border: none; cursor: pointer; padding: 8px; }
.nav-toggle span { display: block; width: 24px; height: 2px; background: #fff; margin: 5px 0; transition: 0.3s; }

/* ═══════════════ HOME – HERO ═══════════════ */
.home-scroll { height: 100vh; width: 100%; max-width: 100%; overflow-y: hidden; overflow-x: hidden; display: flex; flex-direction: column; }
.home-scroll.scrollable { overflow-y: auto; -webkit-overflow-scrolling: touch; overscroll-behavior: contain; }

.hero-crossfade { position: relative; width: 100%; height: 100vh; background-color: #000; overflow: hidden; flex-shrink: 0; }
.hero-crossfade img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; display: block; backface-visibility: hidden; -webkit-backface-visibility: hidden; transform: translateZ(0); -webkit-transform: translateZ(0); will-change: opacity; }
.hero-crossfade .slide-1 { z-index: 3; animation: fadeOut 0.5s ease-in-out 2.0s forwards; -webkit-animation: fadeOut 0.5s ease-in-out 2.0s forwards; }
.hero-crossfade .slide-2 { z-index: 2; animation: fadeOut 0.5s ease-in-out 4.5s forwards; -webkit-animation: fadeOut 0.5s ease-in-out 4.5s forwards; }
.hero-crossfade .slide-static { z-index: 1; }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
@-webkit-keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

.hero-text-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 58%; z-index: 5; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; text-align: center; padding: 40px; pointer-events: none; font-family: 'avenir-lt-pro', 'Avenir', 'Avenir Next', system-ui, sans-serif; }
.hero-text-overlay .phrase { font-size: clamp(28.8px, 5.04vw, 62.4px); font-weight: 300; line-height: 1.15; color: #fff; opacity: 0; transition: opacity 0.5s ease-in-out; }
.hero-text-overlay .phrase.visible { opacity: 1; }
.hero-text-overlay .curly-quote { font-family: Georgia, 'Times New Roman', serif; font-size: 1.5em; line-height: 0; vertical-align: -0.25em; margin-right: 0.08em; }
.hero-text-overlay .curly-quote.close { margin-right: 0; margin-left: 0.08em; }
.hero-text-overlay .line-one { display: flex; flex-wrap: wrap; justify-content: center; gap: 0 0.3em; margin-bottom: 0.90em; }
.hero-text-overlay .attribution { font-size: clamp(16.8px, 2.4vw, 28.8px); font-weight: 200; margin-top: 1.8em; letter-spacing: 0.04em; }
.hero-text-overlay .attribution .reg-mark { font-size: 0.6em; vertical-align: super; line-height: 0; }

/* ═══════════════ HOME – HERO SOCIAL ═══════════════ */
.hero-social { position: absolute; bottom: 113px; left: 0; width: 100%; z-index: 5; display: flex; justify-content: center; gap: 24px; opacity: 0; transition: opacity 0.5s ease-in-out; pointer-events: none; }
.hero-social.visible { opacity: 1; pointer-events: auto; }
.hero-social a { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; flex-shrink: 0; overflow: hidden; color: rgba(255,255,255,0.75); transition: color 0.2s ease, opacity 0.2s ease; }
.hero-social a:hover { color: #fff; }
.hero-social svg { width: 100%; height: 100%; fill: currentColor; }
.hero-social .icon-img { display: block; width: 28px; height: 28px; object-fit: contain; filter: brightness(0) invert(1); opacity: 0.75; transition: opacity 0.2s ease; position: relative; }
.hero-social a:hover .icon-img { opacity: 1; }

/* ═══════════════ HOME – HERO FOOTER ═══════════════ */
.hero-footer { position: absolute; bottom: 40px; left: 0; width: 100%; z-index: 5; text-align: center; pointer-events: none; font-family: 'sofia-pro', 'Sofia Pro', system-ui, sans-serif; opacity: 0; transition: opacity 0.5s ease-in-out; }
.hero-footer.visible { opacity: 1; }
.hero-footer p { font-size: clamp(11px, 1.2vw, 14px); font-weight: 200; color: rgba(255,255,255,0.75); letter-spacing: 0.09em; line-height: 1.3; }
.hero-footer p + p { margin-top: 1.1em; }

/* ═══════════════ HOME – PARALLAX & FLOATING ═══════════════ */
.parallax-bg { height: 75vh; width: 100%; background-attachment: fixed; background-position: center center; background-size: cover; background-repeat: no-repeat; position: relative; flex-shrink: 0; }
.parallax-bg.floating-wrap { height: auto; overflow: hidden; width: 100%; background-attachment: fixed; background-size: cover; background-position: center; background-repeat: no-repeat; }
.floating-img { width: 100%; height: auto; position: relative; z-index: 2; vertical-align: top; margin: 0; padding: 0; display: block; }
.parallax-bg + .floating-img,
.floating-img + .parallax-bg,
.hero-crossfade + .parallax-bg { margin-top: 0; }

/* ═══════════════ HOME – FOOTER ═══════════════ */
.home-footer { padding: 40px 0; text-align: center; background: #000; font-family: 'sofia-pro', 'Sofia Pro', system-ui, sans-serif; flex-shrink: 0; }
.home-footer p { font-size: clamp(11px, 1.2vw, 14px); font-weight: 200; color: rgba(255,255,255,0.75); letter-spacing: 0.09em; line-height: 1.3; }
.home-footer p + p { margin-top: 1.1em; }

/* ═══════════════ HOME – SOCIAL ROW ═══════════════ */
.home-social { display: flex; justify-content: center; gap: 24px; padding: 0 0 20px; background: #000; flex-shrink: 0; }
.home-social a { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; flex-shrink: 0; overflow: hidden; color: rgba(255,255,255,0.75); transition: color 0.2s ease, opacity 0.2s ease; }
.home-social a:hover { color: #fff; }
.home-social svg { width: 100%; height: 100%; fill: currentColor; }
.home-social .icon-img { display: block; width: 28px; height: 28px; object-fit: contain; filter: brightness(0) invert(1); opacity: 0.75; transition: opacity 0.2s ease; }
.home-social a:hover .icon-img { opacity: 1; }

/* ═══════════════ iOS PARALLAX FIX ═══════════════ */
@supports (-webkit-touch-callout: none) {
    .parallax-bg { background-attachment: scroll; }
    .parallax-bg.floating-wrap { background-attachment: scroll; }
}

/* ═══════════════ TREE PAGE (ABOUT & WORKS) ═══════════════ */
.tree-page { position: relative; width: 100%; min-height: 100vh; overflow: hidden; }
.tree-page .bg-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; display: block; z-index: 0; }
.tree-page.scrollable { overflow-y: auto; height: 100vh; -webkit-overflow-scrolling: touch; overscroll-behavior: contain; }
.tree-page.scrollable .bg-image { position: fixed; }

/* ═══════════════ ABOUT ═══════════════ */
.about-content { position: relative; z-index: 2; max-width: 960px; margin: 0 auto; padding: 120px 40px 48px; font-family: 'avenir-next-world', 'Avenir Next', 'Avenir', system-ui, sans-serif; font-weight: 400; font-size: clamp(15px, 1.8vw, 18px); line-height: 1.7; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.9), 0 0 8px rgba(0,0,0,0.8), 0 0 24px rgba(0,0,0,0.6), 0 0 60px rgba(0,0,0,0.45), 0 0 120px rgba(0,0,0,0.3), 0 0 200px rgba(0,0,0,0.15); }
.about-content p + p { margin-top: 1.2em; }
.about-content h1 { font-family: 'avenir-next-world', 'Avenir Next', 'Avenir', system-ui, sans-serif; font-size: clamp(28px, 3.5vw, 44px); font-weight: 300; letter-spacing: 0.08em; text-transform: uppercase; color: #fff; margin-bottom: 0.84em; }
.about-content blockquote { margin: 1.2em 0 1.2em 2em; font-style: normal; font-family: 'gill-sans-nova', 'Gill Sans', 'Gill Sans MT', system-ui, sans-serif; font-size: 20px; font-style: italic; }
.about-content blockquote p { padding-left: 0; text-indent: 0; }
.about-content blockquote .quote-attrib { font-family: 'avenir-next-world', 'Avenir Next', 'Avenir', system-ui, sans-serif; font-size: clamp(15px, 1.8vw, 18px); font-style: normal; padding-left: 1.5em; margin-top: 0.3em; }
.about-content blockquote .quote-attrib .emdash { display: inline-block; width: 1.2em; height: 0; border-top: 2px solid #fff; vertical-align: middle; margin-right: 0.4em; }
.about-content blockquote + blockquote { margin-top: 1.2em; }
.about-content blockquote + blockquote p { padding-left: 0; text-indent: 0; }
.about-content a { color: #54c5f9; transition: color 0.2s ease; }
.about-content a:hover { color: #05a2f4; }
.about-content a:visited { color: #aee2fa; }
.about-profile { display: block; width: 320px; height: auto; margin: 24px auto 0; border-radius: 0; position: relative; z-index: 2; }
.about-social { display: flex; justify-content: center; gap: 24px; margin-top: 60px; position: relative; z-index: 2; }
.about-social a { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; color: rgba(255,255,255,0.75); transition: color 0.2s ease, opacity 0.2s ease; }
.about-social a:hover { color: #fff; }
.about-social svg { width: 100%; height: 100%; fill: currentColor; }
.about-social .icon-img { width: 100%; height: 100%; object-fit: contain; filter: brightness(0) invert(1); opacity: 0.75; transition: opacity 0.2s ease; }
.about-social a:hover .icon-img { opacity: 1; }
.about-footer { position: relative; bottom: auto; padding-bottom: 40px; margin-top: 60px; text-align: center; font-family: 'sofia-pro', 'Sofia Pro', system-ui, sans-serif; pointer-events: none; z-index: 2; }
.about-footer p { font-size: clamp(11px, 1.2vw, 14px); font-weight: 200; color: rgba(255,255,255,0.75); letter-spacing: 0.09em; line-height: 1.3; }
.about-footer p + p { margin-top: 1.1em; }

/* ═══════════════ WORKS ═══════════════ */
.works-content { position: relative; z-index: 2; max-width: 960px; margin: 0 auto; padding: 102px 40px 60px; font-family: 'avenir-next-world', 'Avenir Next', 'Avenir', system-ui, sans-serif; font-weight: 400; font-size: clamp(15px, 1.8vw, 18px); line-height: 1.7; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.9), 0 0 8px rgba(0,0,0,0.8), 0 0 24px rgba(0,0,0,0.6), 0 0 60px rgba(0,0,0,0.45), 0 0 120px rgba(0,0,0,0.3), 0 0 200px rgba(0,0,0,0.15); }
.works-content h1 { font-family: 'avenir-next-world', 'Avenir Next', 'Avenir', system-ui, sans-serif; font-size: clamp(28px, 3.5vw, 44px); font-weight: 300; letter-spacing: 0.08em; text-transform: uppercase; color: #fff; margin-bottom: 1.05em; }
.works-item { margin-bottom: 2.4em; }
.works-item:last-child { margin-bottom: 0; }
.works-title { font-family: 'gill-sans-nova', 'Gill Sans', 'Gill Sans MT', system-ui, sans-serif; font-size: clamp(19px, 2.1vw, 23px); font-weight: 500; font-style: italic; margin-bottom: 0.23em; line-height: 1.5; }
.works-desc { font-weight: 400; }
.works-content a { color: #d0face; transition: color 0.2s ease; }
.works-content a:hover { color: #f69efb; }
.works-content a:visited { color: #c6f6c4; }
.works-content blockquote { margin: 1.2em 0 1.2em 2em; }
.works-content blockquote p + p { margin-top: 1.2em; }
.works-indent { text-indent: 3em; }
.works-social { display: flex; justify-content: center; gap: 24px; margin-top: 60px; position: relative; z-index: 2; }
.works-social a { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; color: rgba(255,255,255,0.75); transition: color 0.2s ease, opacity 0.2s ease; }
.works-social a:hover { color: #fff; }
.works-social svg { width: 100%; height: 100%; fill: currentColor; }
.works-social .icon-img { width: 100%; height: 100%; object-fit: contain; filter: brightness(0) invert(1); opacity: 0.75; transition: opacity 0.2s ease; }
.works-social a:hover .icon-img { opacity: 1; }
.works-footer { position: relative; bottom: auto; padding-bottom: 40px; margin-top: 60px; text-align: center; font-family: 'sofia-pro', 'Sofia Pro', system-ui, sans-serif; pointer-events: none; z-index: 2; }
.works-footer p { font-size: clamp(11px, 1.2vw, 14px); font-weight: 200; color: rgba(255,255,255,0.75); letter-spacing: 0.09em; line-height: 1.3; }
.works-footer p + p { margin-top: 1.1em; }

/* ═══════════════ UTILITIES ═══════════════ */
.visually-hidden { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
.mobile-break { display: none; }
.desktop-break { display: inline; }
.desktop-spaces { display: inline; }

/* ═══════════════ HOME-SPECIFIC: INITIAL HIDDEN STATE ═══════════════ */
.home-nav-hidden { opacity: 0; pointer-events: none; }

/* ═══════════════ MOBILE (≤ 768px) ═══════════════ */
@media (max-width: 768px) {
    .site-nav { padding: 16px 20px; }
    .nav-toggle { display: block; }
    .nav-links { display: none; position: absolute; top: 100%; left: 0; width: 100%; flex-direction: column; gap: 0; background: rgba(0,0,0,0.95); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); padding: 10px 0; }
    .nav-links.open { display: flex; }
    .nav-links li { padding: 12px 20px; }
    .nav-links a { font-size: 14px; }
    .hero-text-overlay { height: 63%; }
    .hero-text-overlay .line-one { flex-direction: column; gap: 0.7em; margin-bottom: 0.7em; }
    .hero-text-overlay .attribution { font-weight: 300; }
    .mobile-break { display: block; }
    .desktop-break { display: none; }
    .desktop-spaces { display: none; }
    .hero-crossfade .slide-1, .hero-crossfade .slide-2 { display: none; }
    .hero-social { display: none; }
    .hero-social, .home-social, .about-social, .works-social { flex-wrap: wrap; }
    .hero-social { left: 50%; transform: translateX(-50%); width: 260px; }
    .home-social, .about-social, .works-social { max-width: 260px; margin-left: auto; margin-right: auto; }
    .parallax-bg { background-attachment: scroll; height: 56.25vw; }
    .parallax-bg.floating-wrap { height: auto; background-attachment: scroll; }
}

/* ═══════════════ MOBILE LANDSCAPE ═══════════════ */
@media (max-width: 896px) and (max-height: 500px) and (orientation: landscape) {
    .site-nav { top: 0; left: 0; width: auto; height: 100vh; flex-direction: column; align-items: flex-start; padding: 12px 6px; gap: 8px; background: rgba(0,0,0,0.1); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); }
    .nav-identity { display: none; }
    .nav-toggle { display: block; }
    .nav-links { position: static; width: auto; flex-direction: column; gap: 0; background: none; backdrop-filter: none; padding: 0; }
    .nav-links li { padding: 6px 0; }
    .nav-links a { font-size: 12px; }
    .hero-crossfade { height: 100vh; }
    .hero-crossfade img { object-fit: contain; }
    .hero-text-overlay { height: auto; top: 8%; justify-content: flex-start; padding: 16px 40px 16px 60px; }
    .hero-text-overlay .phrase { font-size: clamp(18px, 3vw, 32px); }
    .hero-text-overlay .attribution { font-size: clamp(13px, 1.8vw, 20px); margin-top: 0.8em; }
    .hero-text-overlay .line-one { flex-direction: row; gap: 0 0.3em; margin-bottom: 0.5em; }
    .hero-social { display: none; }
    .hero-footer { bottom: 8px; padding-left: 50px; }
    .hero-footer p { font-size: 10px; }
    .hero-footer p + p { margin-top: 0.3em; }
    .parallax-bg { height: auto; min-height: 0; }
    .parallax-bg::after { content: ''; display: block; padding-bottom: 56.25%; }
    .parallax-bg.floating-wrap { height: auto; }
    .parallax-bg.floating-wrap::after { display: none; }
    .about-content, .works-content { padding: 60px 40px 60px 60px; }
}